{"ast":null,"code":"import _classCallCheck from \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/src/pages/Inventory.js\";\n//------------------------------------------------------------------------------------------------------------------\n// INVENTORY\n//------------------------------------------------------------------------------------------------------------------\nimport React from 'react';\nimport Item from '../components/Item';\nimport { getInventory } from '../services/api';\nimport FloatingActionButtonZoom from '../components/accountButtons';\nimport { allTransactionsSum } from '../services/GraphApis';\nimport { allTransactionsCategory } from '../services/GraphApis';\nimport { sumOfEachYear } from '../services/GraphApis'; //---------------------\n//------------------------------------------------------------------------------------------------------------------\n// INVENTORY CLASS\n//------------------------------------------------------------------------------------------------------------------\n\nvar Inventory =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Inventory, _React$Component);\n\n  function Inventory() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Inventory);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Inventory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      inventory: [],\n      total_sum: \"\",\n      total_category: [],\n      year_sum_2019: \"\",\n      year_sum_2018: \"\" //------------------------------------------------------------------------------------------------------------------\n      // adding style\n      //------------------------------------------------------------------------------------------------------------------\n\n    };\n    _this.style = {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      flexWrap: 'wrap' // set the state for the inventory\n      //------------------------------------------------------------------------------------------------------------------ \n\n    };\n\n    _this.setInventory = function () {\n      getInventory().then(function (data) {\n        // if (data.error){\n        //   alert (data.error)\n        // } else {\n        _this.setState({\n          inventory: data\n        }); // }\n\n      });\n    };\n\n    _this.setTransactionsTotalSum = function () {\n      allTransactionsSum(_this.props.user.id).then(function (data) {\n        _this.setState({\n          total_sum: data\n        });\n      });\n    };\n\n    _this.setTransactionsTotalCategory = function () {\n      allTransactionsCategory(_this.props.user.id).then(function (data) {\n        _this.setState({\n          total_category: data\n        });\n\n        debugger;\n      });\n    };\n\n    _this.set2019Sum = function () {\n      sumOfEachYear(_this.props.user.id, \"2019\").then(function (data) {\n        _this.setState({\n          year_sum_2019: data\n        });\n      });\n    };\n\n    _this.set2018Sum = function () {\n      sumOfEachYear(_this.props.user.id, \"2018\").then(function (data) {\n        _this.setState({\n          year_sum_2018: data\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Inventory, [{\n    key: \"componentDidMount\",\n    // component did mount - no user => to signin page\n    //------------------------------------------------------------------------------------------------------------------ \n    //empty string are fasley - so if there is no user name the \"this.props.username\" will show up as falsey and we want it to push to the signin page\n    // this will now when the page is refeshed since there is no username found it will push back to signin page\n    // componentDidMount will run after the render\n    value: function componentDidMount() {\n      if (!this.props.username) {\n        this.props.history.push('/signin');\n      } else {\n        this.setInventory();\n        this.setTransactionsTotalSum();\n        this.setTransactionsTotalCategory();\n        this.set2019Sum();\n        this.set2018Sum();\n      }\n    } // render component\n    //------------------------------------------------------------------------------------------------------------------\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      // const { inventory, userTransaction} = this.state\n      return React.createElement(\"div\", {\n        style: this.style,\n        className: \"user-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Welcome back, \", this.props.username, \"!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), React.createElement(FloatingActionButtonZoom, {\n        totalSum: this.state.total_sum,\n        totalCategory: this.state.total_category,\n        user: this.props.user,\n        userTransaction: this.props.transactions,\n        userPots: this.props.savingPots,\n        allstocks: this.props.allstocks,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        alt: \"oh no!\",\n        className: \"signInPicture\",\n        src: \"http://www.drinkingwaterfountains.co.uk/wp/wp-content/uploads/2018/04/installation-service.jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Inventory;\n}(React.Component); //------------------------------------------------------------------------------------------------------------------\n// EXPORT\n//------------------------------------------------------------------------------------------------------------------\n\n\nexport default Inventory;","map":{"version":3,"sources":["/Users/ellekennedyvalentine/Dev/mod5 /week_1/react-project-DBO/client/src/pages/Inventory.js"],"names":["React","Item","getInventory","FloatingActionButtonZoom","allTransactionsSum","allTransactionsCategory","sumOfEachYear","Inventory","state","inventory","total_sum","total_category","year_sum_2019","year_sum_2018","style","display","flexDirection","alignItems","flexWrap","setInventory","then","data","setState","setTransactionsTotalSum","props","user","id","setTransactionsTotalCategory","set2019Sum","set2018Sum","username","history","push","transactions","savingPots","allstocks","Component"],"mappings":"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","sourcesContent":["//------------------------------------------------------------------------------------------------------------------\n// INVENTORY\n//------------------------------------------------------------------------------------------------------------------\n \n\nimport React from 'react'\n\nimport Item from '../components/Item'\n\nimport {getInventory} from '../services/api'\n\nimport FloatingActionButtonZoom from '../components/accountButtons'\n\n\nimport {allTransactionsSum} from '../services/GraphApis'\nimport {allTransactionsCategory} from '../services/GraphApis'\nimport {sumOfEachYear} from '../services/GraphApis'\n\n\n\n\n\n\n\n\n\n\n//---------------------\n\n\n\n//------------------------------------------------------------------------------------------------------------------\n// INVENTORY CLASS\n//------------------------------------------------------------------------------------------------------------------\n \nclass Inventory extends React.Component {\n\n// inital state  \n//------------------------------------------------------------------------------------------------------------------\n  state = {\n    inventory: [], \n    total_sum: \"\",\n    total_category: [],\n    year_sum_2019: \"\",\n    year_sum_2018: \"\"\n  }\n//------------------------------------------------------------------------------------------------------------------\n\n// adding style\n//------------------------------------------------------------------------------------------------------------------\n  style = {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flexWrap: 'wrap'\n  }\n\n\n// set the state for the inventory\n//------------------------------------------------------------------------------------------------------------------ \n\n  setInventory = () => {\n    getInventory()\n    .then( data => {\n      // if (data.error){\n      //   alert (data.error)\n      // } else {\n        this.setState({inventory: data})\n      // }\n     } )\n    }\n\n\n    setTransactionsTotalSum = () => {\n      \n      allTransactionsSum(this.props.user.id)\n      .then( data => {\n          this.setState({total_sum: data})\n       } )\n      }\n\n\n    setTransactionsTotalCategory = () => {\n      \n      allTransactionsCategory(this.props.user.id)\n        .then( data => {\n            this.setState({total_category: data})\n         \n         debugger } )\n\n         \n        }\n\n      set2019Sum = () => {\n      \n          sumOfEachYear(this.props.user.id, \"2019\")\n            .then( data => {\n                this.setState({year_sum_2019: data})\n              } )\n           }\n\n      set2018Sum = () => {\n      \n          sumOfEachYear(this.props.user.id, \"2018\")\n             .then( data => {\n                  this.setState({year_sum_2018: data})\n                } )\n             }\n        \n      \n\n\n          \n      \n\n// component did mount - no user => to signin page\n//------------------------------------------------------------------------------------------------------------------ \n\n\n  //empty string are fasley - so if there is no user name the \"this.props.username\" will show up as falsey and we want it to push to the signin page\n  // this will now when the page is refeshed since there is no username found it will push back to signin page\n  // componentDidMount will run after the render\n  componentDidMount(){\n    if (!this.props.username){\n      this.props.history.push('/signin')\n    } else {\n      this.setInventory()\n      \n      this.setTransactionsTotalSum()\n      this.setTransactionsTotalCategory()\n      this.set2019Sum()\n      this.set2018Sum()\n      \n    }\n  }\n\n// render component\n//------------------------------------------------------------------------------------------------------------------\n  render () {\n    // const { inventory, userTransaction} = this.state\n\n    return (\n\n\n\n      <div style={this.style} className='user-list'>\n      <br/>\n      <br/>\n        <h3>Welcome back, {this.props.username}!</h3>\n        <br/>\n      <br/>\n\n        {/* <AllStats/> */}\n        <br/>\n\n        <FloatingActionButtonZoom totalSum={this.state.total_sum} totalCategory={this.state.total_category} user={this.props.user} userTransaction={this.props.transactions} userPots={this.props.savingPots} allstocks={this.props.allstocks}/>\n\n        <img\n              alt=\"oh no!\"\n              className=\"signInPicture\"\n              src=\"http://www.drinkingwaterfountains.co.uk/wp/wp-content/uploads/2018/04/installation-service.jpg\"\n            />\n      </div>\n    )\n  }\n}\n\n//------------------------------------------------------------------------------------------------------------------\n// EXPORT\n//------------------------------------------------------------------------------------------------------------------\n \n\nexport default Inventory\n"]},"metadata":{},"sourceType":"module"}